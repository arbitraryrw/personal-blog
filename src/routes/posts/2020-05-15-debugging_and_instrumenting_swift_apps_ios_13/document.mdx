import styles from './document.module.css'

<div className={styles["blogBody"]}>

# Post In Progress...

---

# Introduction
Over the past few weeks Iâ€™ve been doing a lot of iOS mobile security testing. This required me to quickly get back up to speed with what is happening in the space, get setup for testing, and use some of the current tools. I also used this as an opportunity to play around with the [checkra1n](https://checkra.in/) jailbreak that is currently in beta. I decided to use checkra1n on a test device that is running the most recent version of iOS currently available, iOS 13.4.1. The purpose of this post is to present some of the useful things I picked up during this journey, specifically when it comes to working with Swift / ObjC hybrid apps.

# Background 
Late last year [axi0mX](https://twitter.com/axi0mx) published an unpatchable bootrom exploit on iOS devices called [checkm8](https://github.com/axi0mX/ipwndfu). Checkm8 affects all devices that use the A5 to A11 (iPhone 4S to iPhone X) chips.The significance of this exploit is that it targets a vulnerability in the bootrom, meaning it is not tied to a specific iOS version (more details can be found [here](https://github.com/axi0mX/alloc8)). This vulnerability was then used to build the [checkra1n](https://checkra.in/) jailbreak that is currently in beta. Checkra1n officially supports iOS 12.3 and up.

The adoption of the [Swift programming language](https://developer.apple.com/swift/) on the iOS platform has grown rapidly over the past few years, especially amongst larger organisations. More and more developers are opting towards writing new applications in Swift because of the many quality of life improvements it brings. In addition, many existing ObjC based applications are adopting a hybrid approach where they use both ObjC and Swift. This is facilitated by the [interoperability](https://developer.apple.com/documentation/swift/imported_c_and_objective-c_apis/importing_swift_into_objective-c) of the two languages, making it very easy to use both languages in one application. Despite there being well defined interfaces between Swift and ObjC, the two languages have bespoke differences. Details on this can be found [here](https://github.com/apple/swift/blob/master/docs/ABIStabilityManifesto.md).

# Frida 

### Getting Started

### ObjC Examples

### Swift Examples

# Debugging

# Conclusion 

# Useful Resources
- [Frida Docs](https://frida.re/docs/home/)
- [Frida Javascript API](https://frida.re/docs/javascript-api/)
- [Frida iOS Examples](https://frida.re/docs/examples/ios/)
- [Debugging iOS Binaries With LLDB](https://kov4l3nko.github.io/blog/2016-04-27-debugging-ios-binaries-with-lldb/)
- [Debugging Swift Code With LLDB](https://medium.com/flawless-app-stories/debugging-swift-code-with-lldb-b30c5cf2fd49)
- [LLDB Cheat Sheet](https://gist.github.com/ryanchang/a2f738f0c3cc6fbd71fa)
- [Checkra1n](https://checkra.in/)
- [Checkm8 Source](https://github.com/axi0mX/ipwndfu)
- [Checkm8 Write-up](https://github.com/axi0mX/alloc8)
- [Swift Source](https://github.com/apple/swift)
- [Swift ABI Stability Manifesto](https://github.com/apple/swift/blob/master/docs/ABIStabilityManifesto.md)
- [Swift Name Mangling](https://github.com/apple/swift/blob/master/docs/ABI/Mangling.rst)
- [Swift Data Layout](https://github.com/apple/swift/blob/master/docs/ABIStabilityManifesto.md#data-layout)
- [Swift Types](https://github.com/apple/swift/blob/master/docs/ABIStabilityManifesto.md#a-tour-of-types)
- [Apple ARM64 iOS platform ABI](https://developer.apple.com/library/archive/documentation/Xcode/Conceptual/iPhoneOSABIReference/Articles/ARM64FunctionCallingConventions.html)
- [ARM's AAPCS64](https://developer.arm.com/docs/ihi0055/d/procedure-call-standard-for-the-arm-64-bit-architecture)

</div>
